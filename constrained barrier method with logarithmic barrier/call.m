f=@(x) x(1)^4+x(2)^4-4*x(1)^2;
df=@(x) [4*x(1)^3-8*x(1);4*x(2)^3];
ddf=@(x) [12*x(1)^2-8 0;0 12*x(2)^2];

g=@(x) x.^4;
dg=@(x) 4*x.^3;
ddg=@(x) 12*x.^2;

res=barrier_path(f,df,0,g,dg,ddg,0,0,0,[-1;-1],30);