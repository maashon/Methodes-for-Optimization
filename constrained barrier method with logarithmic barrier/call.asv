f=@(x) x(1)^4+x(2)^4-4*x(1)^2;
df=@(x) [4*x(1)^3-8*x(1);4*x(2)^3];
ddf=@(x) [12*x(1)^2-8 0;0 12*x(2)^2];

g=@(x) 100*(x(2)-x(1)^2)^2+(1-x(1))^2;
dg=@(x) [400*x(1)^3-400*x(1)*x(2)+2*x(1)-2;200*(x(2)-x(1)^2)];
ddg=@(x) [1200*x(1)^2-400*x(2)+2 -400*x(1);-400*x(1) 200];

res=barrier_path(f,df,0,g,dg,ddg,0,0,0,[-1;-1],30);